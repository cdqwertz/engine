<html>
	<head>
		<title>Game Editor</title>
		<link rel="stylesheet" type="text/css" href="css/style.css" media="screen">
	</head>
	<body onload="load();">
		<script src="js/input.js"></script>
		<script src="js/code_editor.js"></script>
		<script src="js/level_editor.js"></script>
		<script src="js/code_generator.js"></script>
		<script>
			var objectsGUI;
			var codeGUI;
			var codeCtx;

			function load() {
				objectsGUI = document.getElementById("objects");
				codeGUI = document.getElementById("code");
				codeCtx = codeGUI.getContext("2d");

				codeGUI.width = document.body.clientWidth;
				codeGUI.height = document.body.clientHeight;

				code_editor.updateEditorGUI();
				codeGUI.onmousedown = input.onMouseDown;
				codeGUI.onmouseup = input.onMouseUp;
				codeGUI.onmousemove = input.onMouseMove;

				input.mouseMove = code_editor.OnMouseMove;
				input.mouseDown = code_editor.OnMouseDown;
				input.mouseUp = code_editor.OnMouseUp;

				level_editor.showObjectsGUI();
			}

			function newGame() {
			}

			function saveGame() {
			}
			
			function openGame() {
			}

			function showCode() {
				alert(code_generator.genCode());
			}
		</script>

		<ul id="nav">

			<li id="l"><a onclick="newGame();return false;">New</a></li>
			<li id="l"><a onclick="openGame();return false;">Open</a></li>
			<li id="l"><a onclick="saveGame();return false;">Save</a></li>
			<li id="l"><a onclick="showCode();return false;">Export</a></li>

			<li id="r"><a onclick="code_editor.AddCmd(0);return false;">Add Command</a></li>
		</ul>

		<ul id="objects">
		</ul>

		<canvas id="code">
		</canvas>
	</body>
</html>
